import { Typography } from "@mui/material";
import { OpenDialogOptions, OpenDialogReturnValue } from "electron";
import { useState } from "react";

import { errors } from "../constants";
import "../components.css"

interface FolderSelectorParams {
  onFolderSelect: (folder: string) => void;
  displayType: 'image' | 'text';
}

/**
 * Component to select a folder and will use onFolderSelect param to provide
 * selected folder to parent
 * @param onFolderSelect callback to provide selected folder
 */
const FolderSelector = ({ onFolderSelect, displayType }: FolderSelectorParams) => {
  const [errorMessage, setErrorMessage] = useState("");
  const [isHovered, setIsHovered] = useState(false);

  const handleMouseEnter = () => {
    setIsHovered(true);
  };

  const handleMouseLeave = () => {
    setIsHovered(false);
  };

  /**
   * Called upon selecting a folder. Will verify the folder exists and is writable
   * @param folderPath the path of the folder to verify
   */
  const verifyFolder = (folderPath: string) => {
    window.bashUtils.doesDirectoryExist(folderPath)
      .then((exists) => {
        if (!exists) {
          setErrorMessage(errors.FOLDER_DOES_NOT_EXISTS);
        } else {

          window.bashUtils.isDirectoryWritable(folderPath)
            .then((writable) => {
              if (!writable) {
                setErrorMessage(errors.FOLDER_IS_NOT_WRITABLE);
              } else {
                onFolderSelect(folderPath);
              }
            });
        }
      });
  };

  /**
   * Will open a dialog to allow the user to select a folder
   */
  const chooseFolder = () => {
    const options: OpenDialogOptions = {
      properties: ['openDirectory']
    };

    setErrorMessage("");

    window.electronAPI.invokeShowOpenDialog(options)
      .then((value: OpenDialogReturnValue) => {
        if (value !== undefined && value.filePaths.length > 0) {
          verifyFolder(value.filePaths[0]);
        }
      })
  };

  return (
    <div className="tw-flex tw-flex-col tw-gap-2">
      <div onClick={chooseFolder}  className="tw-text-center tw-cursor-pointer" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>
        { displayType === 'image' ? (
          <svg width="240" height="240" viewBox="0 0 240 240" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="120" cy="120" r="120" fill={isHovered ? '#00CDD0' : '#CCF5F6'} fillOpacity="0.6" />
            <path d="M128.041 30.108L84.8962 39.8146C83.7403 40.0761 82.7353 40.7854 82.1016 41.7869C81.4679 42.7885 81.2574 44.0005 81.5162 45.157L93.3469 97.7426L144.039 86.3379C144.456 86.2456 144.837 86.0352 145.137 85.732L133.383 33.4881C133.122 32.3321 132.412 31.327 131.411 30.6934C130.409 30.0597 129.197 29.8492 128.041 30.108Z" fill="#E6E6E6" />
            <path d="M112.372 37.3491L88.7279 42.6685C87.6753 42.9064 86.76 43.5521 86.1828 44.464C85.6055 45.3758 85.4135 46.4794 85.6489 47.5326L96.772 96.973L141.794 86.844L133.694 50.8387C132.65 46.2253 129.819 42.2142 125.822 39.6853C121.825 37.1564 116.988 36.3162 112.372 37.3491Z" fill="white" />
            <path d="M133.137 84.1771L103.455 90.8549C103.328 90.8833 103.208 90.9365 103.101 91.0114C102.994 91.0864 102.904 91.1816 102.834 91.2917C102.764 91.4019 102.717 91.5247 102.694 91.6531C102.672 91.7816 102.675 91.9132 102.704 92.0404C102.732 92.1676 102.786 92.2879 102.861 92.3944C102.936 92.5009 103.032 92.5916 103.142 92.6612C103.252 92.7308 103.375 92.778 103.504 92.8C103.632 92.8221 103.764 92.8186 103.891 92.7897L133.572 86.1119C133.7 86.0837 133.82 86.0305 133.927 85.9556C134.034 85.8807 134.125 85.7854 134.195 85.6753C134.265 85.5651 134.312 85.4423 134.334 85.3137C134.357 85.1852 134.354 85.0536 134.325 84.9263C134.296 84.799 134.243 84.6787 134.168 84.5721C134.092 84.4655 133.997 84.3748 133.886 84.3053C133.776 84.2357 133.653 84.1885 133.525 84.1665C133.396 84.1445 133.264 84.1481 133.137 84.1771Z" fill="#E4E4E4" />
            <path d="M132.277 80.3523L102.595 87.0301C102.338 87.0879 102.115 87.2453 101.974 87.4678C101.833 87.6903 101.787 87.9595 101.845 88.2164C101.902 88.4732 102.06 88.6966 102.282 88.8373C102.505 88.9781 102.774 89.0247 103.031 88.9669L132.712 82.2891C132.84 82.2605 132.96 82.2071 133.066 82.132C133.173 82.0569 133.264 81.9616 133.333 81.8514C133.403 81.7413 133.45 81.6185 133.473 81.49C133.495 81.3616 133.492 81.23 133.463 81.1029C133.434 80.9757 133.381 80.8554 133.306 80.7489C133.231 80.6423 133.135 80.5516 133.025 80.4819C132.915 80.4122 132.792 80.3649 132.664 80.3427C132.535 80.3204 132.404 80.3237 132.277 80.3523Z" fill="#E4E4E4" />
            <path d="M114.601 80.3099L101.735 83.2046C101.478 83.2624 101.255 83.4196 101.115 83.6419C100.974 83.8641 100.927 84.1331 100.985 84.3897C101.043 84.6463 101.2 84.8694 101.422 85.01C101.645 85.1506 101.914 85.1972 102.17 85.1395L115.037 82.2447C115.164 82.2165 115.285 82.1633 115.391 82.0884C115.498 82.0135 115.589 81.9182 115.659 81.8081C115.729 81.6979 115.776 81.5751 115.799 81.4465C115.821 81.318 115.818 81.1864 115.789 81.0591C115.76 80.9318 115.707 80.8115 115.632 80.7049C115.557 80.5983 115.461 80.5076 115.351 80.4381C115.24 80.3685 115.117 80.3213 114.989 80.2993C114.86 80.2774 114.729 80.281 114.601 80.3099Z" fill="#E4E4E4" />
            <path d="M129.613 68.5164L99.931 75.1942C99.8038 75.2228 99.6835 75.2761 99.577 75.3512C99.4704 75.4263 99.3797 75.5217 99.31 75.6319C99.1693 75.8543 99.1227 76.1236 99.1805 76.3804C99.2382 76.6373 99.3957 76.8606 99.6182 77.0014C99.8406 77.1421 100.11 77.1887 100.367 77.1309L130.048 70.4532C130.176 70.4246 130.296 70.3712 130.402 70.2961C130.509 70.221 130.6 70.1256 130.669 70.0155C130.739 69.9053 130.786 69.7825 130.809 69.6541C130.831 69.5256 130.828 69.3941 130.799 69.2669C130.77 69.1397 130.717 69.0195 130.642 68.9129C130.567 68.8064 130.471 68.7157 130.361 68.646C130.251 68.5763 130.128 68.529 130 68.5067C129.871 68.4845 129.74 68.4878 129.613 68.5164Z" fill="#E4E4E4" />
            <path d="M128.748 64.6924L99.0668 71.3701C98.9396 71.3985 98.8192 71.4517 98.7125 71.5266C98.6058 71.6016 98.515 71.6969 98.4452 71.807C98.3753 71.9171 98.3279 72.0399 98.3056 72.1683C98.2833 72.2968 98.2866 72.4284 98.3152 72.5556C98.3438 72.6828 98.3972 72.8031 98.4724 72.9096C98.5476 73.0162 98.643 73.1068 98.7533 73.1764C98.8635 73.246 98.9864 73.2932 99.1149 73.3153C99.2434 73.3373 99.375 73.3338 99.5021 73.3049L129.184 66.6272C129.311 66.5987 129.431 66.5454 129.538 66.4704C129.644 66.3955 129.735 66.3002 129.805 66.1901C129.874 66.08 129.922 65.9573 129.944 65.8289C129.966 65.7005 129.963 65.569 129.934 65.4419C129.906 65.3148 129.852 65.1946 129.777 65.0881C129.702 64.9816 129.607 64.891 129.497 64.8214C129.387 64.7517 129.264 64.7045 129.135 64.6824C129.007 64.6602 128.876 64.6636 128.748 64.6924Z" fill="#E4E4E4" />
            <path d="M111.075 64.6492L98.2083 67.5439C98.0811 67.5725 97.9609 67.6259 97.8543 67.701C97.7478 67.7761 97.6571 67.8715 97.5874 67.9816C97.5177 68.0918 97.4704 68.2146 97.4481 68.343C97.4259 68.4714 97.4292 68.603 97.4578 68.7302C97.4864 68.8573 97.5398 68.9776 97.6149 69.0842C97.69 69.1907 97.7853 69.2814 97.8955 69.3511C98.0057 69.4208 98.1285 69.4681 98.2569 69.4904C98.3853 69.5126 98.5169 69.5093 98.6441 69.4807L111.511 66.586C111.638 66.5574 111.758 66.504 111.865 66.4289C111.971 66.3538 112.062 66.2585 112.132 66.1483C112.201 66.0381 112.249 65.9153 112.271 65.7869C112.293 65.6585 112.29 65.5269 112.261 65.3997C112.233 65.2726 112.179 65.1523 112.104 65.0457C112.029 64.9392 111.934 64.8485 111.823 64.7788C111.713 64.7091 111.59 64.6618 111.462 64.6395C111.334 64.6173 111.202 64.6206 111.075 64.6492Z" fill="#E4E4E4" />
            <path d="M126.089 52.8562L96.4075 59.534C96.1507 59.5918 95.9274 59.7492 95.7866 59.9717C95.6459 60.1942 95.5992 60.4634 95.657 60.7203C95.7148 60.9771 95.8723 61.2005 96.0947 61.3412C96.3172 61.482 96.5865 61.5286 96.8433 61.4708L126.525 54.793C126.652 54.7644 126.772 54.711 126.879 54.6359C126.986 54.5608 127.076 54.4655 127.146 54.3553C127.216 54.2452 127.263 54.1224 127.285 53.9939C127.307 53.8655 127.304 53.7339 127.275 53.6068C127.247 53.4796 127.193 53.3593 127.118 53.2528C127.043 53.1462 126.948 53.0555 126.838 52.9858C126.728 52.9161 126.605 52.8688 126.476 52.8466C126.348 52.8243 126.216 52.8276 126.089 52.8562Z" fill="#E6E6E6" />
            <path d="M125.23 49.0301L95.5482 55.7078C95.421 55.7364 95.3007 55.7898 95.1942 55.8649C95.0876 55.94 94.9969 56.0354 94.9272 56.1455C94.7865 56.368 94.7399 56.6373 94.7976 56.8941C94.8554 57.1509 95.0129 57.3743 95.2353 57.515C95.4578 57.6558 95.7271 57.7024 95.9839 57.6446L125.666 50.9669C125.793 50.9383 125.913 50.8849 126.02 50.8098C126.126 50.7347 126.217 50.6393 126.287 50.5292C126.356 50.419 126.404 50.2962 126.426 50.1678C126.448 50.0393 126.445 49.9078 126.416 49.7806C126.387 49.6534 126.334 49.5331 126.259 49.4266C126.184 49.32 126.089 49.2293 125.978 49.1596C125.868 49.0899 125.745 49.0426 125.617 49.0204C125.489 48.9982 125.357 49.0015 125.23 49.0301Z" fill="#E6E6E6" />
            <path d="M107.551 48.9851L94.6849 51.8798C94.428 51.9376 94.2047 52.0951 94.0639 52.3175C93.9232 52.54 93.8766 52.8093 93.9344 53.0661C93.9922 53.323 94.1496 53.5463 94.3721 53.6871C94.5945 53.8278 94.8638 53.8744 95.1206 53.8166L107.987 50.9219C108.114 50.8933 108.235 50.8399 108.341 50.7648C108.448 50.6897 108.538 50.5944 108.608 50.4842C108.678 50.3741 108.725 50.2513 108.747 50.1228C108.77 49.9944 108.766 49.8628 108.738 49.7357C108.709 49.6085 108.656 49.4882 108.581 49.3817C108.505 49.2751 108.41 49.1844 108.3 49.1147C108.19 49.045 108.067 48.9977 107.939 48.9755C107.81 48.9533 107.679 48.9565 107.551 48.9851Z" fill="#E6E6E6" />
            <path d="M41.9749 91.1211C41.6936 91.1214 41.424 91.2333 41.2251 91.4321C41.0262 91.631 40.9144 91.9007 40.9141 92.1819V201.871C40.9144 202.153 41.0262 202.422 41.2251 202.621C41.424 202.82 41.6936 202.932 41.9749 202.932H179.503C179.785 202.932 180.054 202.82 180.253 202.621C180.452 202.422 180.564 202.153 180.564 201.871V109.789C180.564 109.508 180.452 109.238 180.253 109.04C180.054 108.841 179.785 108.729 179.503 108.728H100.571C99.7698 108.729 98.9971 108.431 98.4045 107.891L80.6593 91.7678C80.2016 91.3512 79.6047 91.1206 78.9858 91.1211H41.9749Z" fill="#3F3D56" />
            <path d="M206.1 62.4316L132.461 30.773C130.486 29.9268 128.257 29.8984 126.261 30.694C124.266 31.4895 122.668 33.044 121.817 35.0166L83.2305 124.77L169.752 161.967C170.462 162.274 171.245 162.371 172.008 162.246L210.343 73.0755C211.189 71.1011 211.218 68.8716 210.422 66.8761C209.627 64.8807 208.072 63.2823 206.1 62.4316Z" fill="#E6E6E6" />
            <path d="M175.396 56.383L135.04 39.0333C133.242 38.2625 131.212 38.2362 129.395 38.9601C127.578 39.6841 126.122 41.0992 125.347 42.8951L89.0684 127.28L165.912 160.317L192.332 98.8625C195.709 90.9824 195.823 82.0846 192.648 74.121C189.473 66.1573 183.269 59.7782 175.396 56.383Z" fill="white" />
            <path d="M156.048 147.193L105.387 125.413C105.17 125.319 104.937 125.269 104.7 125.266C104.464 125.262 104.23 125.306 104.01 125.393C103.79 125.48 103.59 125.61 103.421 125.775C103.252 125.939 103.116 126.136 103.023 126.353C102.93 126.57 102.88 126.803 102.877 127.04C102.874 127.276 102.918 127.51 103.005 127.73C103.093 127.949 103.223 128.149 103.388 128.318C103.553 128.487 103.75 128.622 103.967 128.715L154.628 150.495C154.845 150.589 155.078 150.639 155.314 150.642C155.55 150.646 155.785 150.602 156.005 150.515C156.224 150.428 156.424 150.298 156.594 150.133C156.763 149.969 156.898 149.772 156.992 149.555C157.085 149.338 157.134 149.105 157.138 148.868C157.141 148.632 157.097 148.398 157.009 148.178C156.922 147.959 156.792 147.759 156.627 147.59C156.462 147.421 156.265 147.286 156.048 147.193Z" fill="#E4E4E4" />
            <path d="M158.853 140.664L108.193 118.884C107.754 118.696 107.259 118.69 106.816 118.866C106.373 119.043 106.018 119.389 105.83 119.827C105.641 120.265 105.635 120.76 105.811 121.203C105.988 121.647 106.333 122.001 106.771 122.19L157.432 143.97C157.649 144.063 157.883 144.113 158.119 144.116C158.355 144.119 158.59 144.076 158.809 143.988C159.029 143.901 159.229 143.771 159.398 143.606C159.567 143.441 159.702 143.245 159.796 143.028C159.889 142.811 159.939 142.577 159.942 142.341C159.945 142.105 159.902 141.87 159.814 141.651C159.727 141.431 159.597 141.231 159.432 141.062C159.267 140.893 159.07 140.757 158.853 140.664Z" fill="#E4E4E4" />
            <path d="M132.959 121.799L110.999 112.358C110.782 112.264 110.549 112.214 110.313 112.211C110.077 112.208 109.842 112.251 109.623 112.338C109.403 112.426 109.203 112.556 109.034 112.72C108.865 112.885 108.73 113.081 108.636 113.298C108.543 113.515 108.493 113.749 108.49 113.985C108.487 114.221 108.531 114.455 108.618 114.675C108.706 114.894 108.836 115.094 109.001 115.263C109.166 115.432 109.362 115.567 109.579 115.66L131.54 125.101C131.757 125.195 131.99 125.245 132.226 125.248C132.462 125.251 132.697 125.208 132.916 125.121C133.135 125.033 133.335 124.903 133.505 124.739C133.674 124.574 133.809 124.378 133.902 124.161C133.995 123.944 134.045 123.71 134.048 123.474C134.051 123.238 134.008 123.004 133.92 122.784C133.833 122.565 133.703 122.365 133.538 122.196C133.373 122.027 133.176 121.892 132.959 121.799Z" fill="#E4E4E4" />
            <path d="M167.54 120.461L116.879 98.6806C116.441 98.4928 115.946 98.4866 115.503 98.6634C115.06 98.8403 114.706 99.1857 114.517 99.6237C114.329 100.062 114.322 100.557 114.499 101C114.675 101.443 115.02 101.798 115.458 101.986L166.119 123.766C166.336 123.86 166.569 123.91 166.806 123.913C167.042 123.917 167.277 123.873 167.497 123.786C167.716 123.699 167.917 123.569 168.086 123.404C168.256 123.239 168.391 123.042 168.484 122.825C168.578 122.608 168.627 122.374 168.63 122.138C168.634 121.901 168.59 121.667 168.502 121.447C168.415 121.227 168.284 121.027 168.119 120.858C167.954 120.689 167.757 120.554 167.54 120.461Z" fill="#E4E4E4" />
            <path d="M170.342 113.935L119.682 92.1551C119.465 92.0614 119.232 92.0114 118.995 92.008C118.759 92.0046 118.524 92.0477 118.305 92.1351C118.085 92.2224 117.885 92.3521 117.716 92.5169C117.547 92.6816 117.411 92.8782 117.318 93.0952C117.225 93.3123 117.175 93.5456 117.172 93.7819C117.169 94.0181 117.213 94.2527 117.3 94.4721C117.388 94.6915 117.518 94.8914 117.683 95.0605C117.848 95.2296 118.045 95.3645 118.262 95.4574L168.923 117.237C169.14 117.331 169.373 117.381 169.609 117.384C169.845 117.388 170.08 117.345 170.3 117.257C170.519 117.17 170.719 117.04 170.889 116.875C171.058 116.711 171.193 116.514 171.286 116.297C171.38 116.08 171.429 115.847 171.432 115.611C171.435 115.374 171.392 115.14 171.304 114.92C171.217 114.701 171.087 114.501 170.921 114.332C170.756 114.163 170.56 114.028 170.342 113.935Z" fill="#E4E4E4" />
            <path d="M144.448 95.0657L122.488 85.6245C122.049 85.4363 121.554 85.4298 121.111 85.6066C120.668 85.7833 120.313 86.1288 120.125 86.5671C119.936 87.0053 119.93 87.5004 120.106 87.9436C120.283 88.3867 120.628 88.7416 121.066 88.9302L143.027 98.3714C143.244 98.4649 143.477 98.5146 143.714 98.5178C143.95 98.5211 144.185 98.4777 144.404 98.3902C144.624 98.3027 144.824 98.1729 144.993 98.008C145.163 97.8432 145.298 97.6466 145.391 97.4295C145.484 97.2123 145.534 96.979 145.537 96.7427C145.54 96.5064 145.497 96.2718 145.409 96.0523C145.322 95.8327 145.192 95.6326 145.027 95.4634C144.862 95.2941 144.665 95.159 144.448 95.0657Z" fill="#E4E4E4" />
            <path d="M179.028 93.7298L128.367 71.95C127.929 71.7623 127.434 71.7562 126.991 71.9331C126.548 72.1099 126.194 72.4553 126.006 72.8932C125.817 73.3312 125.811 73.826 125.987 74.2689C126.163 74.7119 126.508 75.0668 126.946 75.2557L177.606 97.0355C177.823 97.129 178.057 97.1787 178.293 97.1819C178.529 97.1851 178.764 97.1418 178.984 97.0543C179.203 96.9668 179.403 96.837 179.573 96.6721C179.742 96.5073 179.877 96.3107 179.97 96.0935C180.064 95.8764 180.113 95.6431 180.117 95.4068C180.12 95.1705 180.076 94.9358 179.989 94.7163C179.901 94.4968 179.771 94.2967 179.606 94.1275C179.441 93.9582 179.245 93.8231 179.028 93.7298Z" fill="#00CDD0" />
            <path d="M181.835 87.2008L131.174 65.4209C130.736 65.233 130.241 65.2269 129.798 65.4037C129.355 65.5805 129.001 65.9259 128.812 66.3639C128.624 66.802 128.617 67.2969 128.794 67.7399C128.97 68.1829 129.315 68.5378 129.753 68.7266L180.413 90.5065C180.631 90.6006 180.864 90.6509 181.101 90.6546C181.338 90.6583 181.573 90.6152 181.793 90.5279C182.013 90.4406 182.213 90.3107 182.383 90.1457C182.553 89.9807 182.688 89.7838 182.782 89.5663C182.875 89.3488 182.925 89.1151 182.928 88.8784C182.931 88.6417 182.887 88.4067 182.799 88.187C182.711 87.9672 182.581 87.767 182.415 87.5977C182.25 87.4285 182.052 87.2936 181.835 87.2008Z" fill="#00CDD0" />
            <path d="M155.942 68.3333L133.982 58.8921C133.543 58.7038 133.048 58.6974 132.605 58.8742C132.162 59.0509 131.807 59.3964 131.619 59.8346C131.431 60.2729 131.424 60.768 131.6 61.2112C131.777 61.6543 132.122 62.0092 132.561 62.1978L154.521 71.639C154.738 71.7324 154.972 71.7822 155.208 71.7854C155.444 71.7886 155.679 71.7453 155.898 71.6578C156.118 71.5703 156.318 71.4404 156.487 71.2756C156.657 71.1107 156.792 70.9141 156.885 70.697C156.979 70.4799 157.028 70.2465 157.031 70.0102C157.035 69.7739 156.991 69.5393 156.903 69.3198C156.816 69.1003 156.686 68.9002 156.521 68.7309C156.356 68.5617 156.159 68.4266 155.942 68.3333Z" fill="#00CDD0" />
            <path d="M101.267 95.0299L58.1228 104.736C56.9669 104.998 55.9618 105.707 55.3282 106.709C54.6945 107.71 54.484 108.922 54.7428 110.079L66.5734 162.664L117.266 151.26C117.682 151.167 118.063 150.957 118.363 150.654L106.61 98.4099C106.348 97.254 105.639 96.2489 104.637 95.6153C103.636 94.9816 102.424 94.7711 101.267 95.0299Z" fill="#E6E6E6" />
            <path d="M85.5968 102.271L61.9525 107.59C60.8999 107.828 59.9846 108.474 59.4074 109.386C58.8302 110.298 58.6382 111.401 58.8735 112.454L69.9966 161.895L115.019 151.766L106.918 115.761C105.875 111.147 103.044 107.136 99.0467 104.607C95.0496 102.078 90.2126 101.238 85.5968 102.271Z" fill="white" />
            <path d="M106.358 149.103L76.6762 155.781C76.5489 155.809 76.4285 155.862 76.3219 155.937C76.2152 156.012 76.1243 156.107 76.0545 156.218C75.9847 156.328 75.9373 156.45 75.915 156.579C75.8927 156.707 75.896 156.839 75.9246 156.966C75.9532 157.093 76.0066 157.214 76.0818 157.32C76.1569 157.427 76.2524 157.517 76.3626 157.587C76.4729 157.657 76.5958 157.704 76.7243 157.726C76.8528 157.748 76.9843 157.744 77.1115 157.715L106.793 151.038C106.92 151.009 107.041 150.956 107.148 150.881C107.255 150.806 107.345 150.711 107.415 150.601C107.485 150.491 107.533 150.368 107.555 150.24C107.577 150.111 107.574 149.979 107.546 149.852C107.517 149.725 107.463 149.604 107.388 149.498C107.313 149.391 107.217 149.301 107.107 149.231C106.997 149.161 106.874 149.114 106.745 149.092C106.617 149.07 106.485 149.074 106.358 149.103Z" fill="#E4E4E4" />
            <path d="M105.497 145.274L75.8157 151.952C75.5589 152.01 75.3356 152.167 75.1948 152.39C75.0541 152.612 75.0074 152.881 75.0652 153.138C75.123 153.395 75.2805 153.618 75.5029 153.759C75.7254 153.9 75.9947 153.947 76.2515 153.889L105.933 147.211C106.19 147.153 106.413 146.996 106.554 146.773C106.695 146.551 106.741 146.282 106.684 146.025C106.626 145.768 106.468 145.545 106.246 145.404C106.024 145.263 105.754 145.216 105.497 145.274Z" fill="#E4E4E4" />
            <path d="M87.828 145.236L74.9614 148.13C74.8344 148.159 74.7142 148.212 74.6078 148.287C74.5014 148.362 74.4108 148.458 74.3411 148.568C74.2715 148.678 74.2242 148.8 74.202 148.929C74.1798 149.057 74.1831 149.188 74.2117 149.315C74.2403 149.443 74.2936 149.563 74.3686 149.669C74.4436 149.776 74.5389 149.866 74.6489 149.936C74.759 150.005 74.8816 150.053 75.01 150.075C75.1383 150.097 75.2697 150.094 75.3967 150.065L88.2633 147.171C88.3906 147.142 88.5111 147.089 88.6179 147.014C88.7247 146.939 88.8156 146.844 88.8855 146.734C88.9554 146.624 89.0029 146.501 89.0252 146.372C89.0475 146.244 89.0443 146.112 89.0157 145.985C88.987 145.858 88.9336 145.737 88.8584 145.631C88.7831 145.524 88.6876 145.433 88.5773 145.364C88.4669 145.294 88.344 145.247 88.2154 145.225C88.0868 145.203 87.9552 145.207 87.828 145.236Z" fill="#E4E4E4" />
            <path d="M102.839 133.438L73.1575 140.116C73.0304 140.145 72.9101 140.198 72.8035 140.273C72.697 140.348 72.6063 140.444 72.5366 140.554C72.3958 140.776 72.3492 141.045 72.407 141.302C72.4648 141.559 72.6223 141.783 72.8447 141.923C73.0672 142.064 73.3365 142.111 73.5933 142.053L103.275 135.375C103.532 135.317 103.755 135.16 103.896 134.937C104.037 134.715 104.083 134.446 104.025 134.189C103.968 133.932 103.81 133.709 103.588 133.568C103.365 133.427 103.096 133.38 102.839 133.438Z" fill="#E4E4E4" />
            <path d="M101.975 129.614L72.2934 136.292C72.1661 136.32 72.0457 136.374 71.939 136.449C71.8324 136.523 71.7415 136.619 71.6717 136.729C71.6019 136.839 71.5545 136.962 71.5322 137.09C71.5099 137.219 71.5131 137.35 71.5418 137.477C71.5704 137.605 71.6238 137.725 71.699 137.831C71.7741 137.938 71.8696 138.029 71.9798 138.098C72.0901 138.168 72.213 138.215 72.3415 138.237C72.47 138.259 72.6015 138.256 72.7287 138.227L102.41 131.549C102.537 131.521 102.658 131.467 102.764 131.392C102.871 131.317 102.962 131.222 103.031 131.112C103.101 131.002 103.148 130.879 103.171 130.751C103.193 130.622 103.19 130.491 103.161 130.364C103.132 130.237 103.079 130.116 103.004 130.01C102.929 129.903 102.834 129.813 102.723 129.743C102.613 129.674 102.49 129.626 102.362 129.604C102.234 129.582 102.102 129.586 101.975 129.614Z" fill="#E4E4E4" />
            <path d="M84.3053 129.573L71.4388 132.468C71.182 132.526 70.9586 132.683 70.8179 132.905C70.6771 133.128 70.6305 133.397 70.6883 133.654C70.7461 133.911 70.9035 134.134 71.126 134.275C71.3484 134.416 71.6177 134.462 71.8745 134.405L84.7411 131.51C84.9979 131.452 85.2213 131.295 85.362 131.072C85.5028 130.85 85.5494 130.58 85.4916 130.324C85.4338 130.067 85.2764 129.843 85.0539 129.703C84.8314 129.562 84.5622 129.515 84.3053 129.573Z" fill="#E4E4E4" />
            <path d="M99.3158 117.778L69.6341 124.456C69.5069 124.484 69.3866 124.538 69.2801 124.613C69.1736 124.688 69.0829 124.783 69.0132 124.894C68.8724 125.116 68.8258 125.385 68.8836 125.642C68.9414 125.899 69.0988 126.122 69.3213 126.263C69.5438 126.404 69.813 126.45 70.0699 126.393L99.7515 119.715C99.8787 119.686 99.999 119.633 100.106 119.558C100.212 119.483 100.303 119.387 100.372 119.277C100.442 119.167 100.489 119.044 100.512 118.916C100.534 118.787 100.531 118.656 100.502 118.529C100.473 118.401 100.42 118.281 100.345 118.175C100.27 118.068 100.174 117.977 100.064 117.908C99.9542 117.838 99.8314 117.791 99.7029 117.768C99.5745 117.746 99.4429 117.75 99.3158 117.778Z" fill="#E6E6E6" />
            <path d="M98.4505 113.952L68.7689 120.63C68.6417 120.658 68.5214 120.712 68.4149 120.787C68.3083 120.862 68.2176 120.957 68.1479 121.067C68.0072 121.29 67.9606 121.559 68.0184 121.816C68.0761 122.073 68.2336 122.296 68.456 122.437C68.6785 122.578 68.9478 122.624 69.2046 122.567L98.8863 115.889C99.1431 115.831 99.3665 115.674 99.5072 115.451C99.648 115.229 99.6946 114.959 99.6368 114.702C99.579 114.446 99.4216 114.222 99.1991 114.082C98.9766 113.941 98.7074 113.894 98.4505 113.952Z" fill="#E6E6E6" />
            <path d="M80.776 113.911L67.9095 116.806C67.6527 116.863 67.4293 117.021 67.2886 117.243C67.1478 117.466 67.1012 117.735 67.159 117.992C67.2168 118.249 67.3742 118.472 67.5967 118.613C67.8192 118.754 68.0884 118.8 68.3453 118.742L81.2118 115.848C81.339 115.819 81.4592 115.766 81.5658 115.691C81.6723 115.616 81.763 115.52 81.8327 115.41C81.9024 115.3 81.9497 115.177 81.972 115.049C81.9942 114.92 81.9909 114.789 81.9623 114.661C81.9337 114.534 81.8803 114.414 81.8052 114.307C81.7301 114.201 81.6348 114.11 81.5246 114.04C81.4144 113.971 81.2916 113.923 81.1632 113.901C81.0348 113.879 80.9032 113.882 80.776 113.911Z" fill="#E6E6E6" />
            <path d="M41.0609 119.934C40.9216 119.934 40.7836 119.961 40.6549 120.014C40.5262 120.068 40.4093 120.146 40.3108 120.244C40.2123 120.343 40.1341 120.46 40.0808 120.588C40.0275 120.717 40 120.855 40 120.994C40 121.034 40.0327 202.726 40.0327 202.726C40.0617 202.985 40.1853 203.225 40.3798 203.398C40.5743 203.572 40.826 203.668 41.0868 203.668H188.822C189.083 203.668 189.335 203.572 189.529 203.398C189.724 203.225 189.847 202.985 189.876 202.726L199.072 121.113C199.089 120.965 199.074 120.815 199.029 120.672C198.983 120.53 198.909 120.399 198.809 120.288C198.71 120.176 198.588 120.086 198.452 120.025C198.316 119.964 198.168 119.933 198.018 119.934L41.0609 119.934Z" fill="#3F3D56" />
            <path d="M51.4874 124.453C49.9886 124.457 48.5516 125.051 47.4872 126.106C46.4227 127.161 45.8162 128.593 45.7988 130.092L45.9833 193.404C45.9767 194.155 46.119 194.9 46.402 195.596C46.6849 196.292 47.1029 196.925 47.6318 197.458C48.1607 197.992 48.7901 198.415 49.4835 198.704C50.177 198.993 50.9208 199.142 51.672 199.142H145.453C156.209 199.149 166.59 195.19 174.61 188.023C182.63 180.856 187.726 170.984 188.924 160.295L192.249 130.779C192.339 129.983 192.26 129.177 192.017 128.414C191.773 127.651 191.372 126.948 190.838 126.351C190.305 125.754 189.651 125.276 188.92 124.949C188.189 124.622 187.397 124.453 186.596 124.453H51.4874ZM195.202 124.453L195.185 124.086H195.202V124.453Z" fill="#00CDD0" />
            <path d="M92.4503 171.888H56.1205C55.7451 171.888 55.3851 171.739 55.1196 171.473C54.8542 171.208 54.7051 170.848 54.7051 170.472C54.7051 170.097 54.8542 169.737 55.1196 169.471C55.3851 169.206 55.7451 169.057 56.1205 169.057H92.4503C94.2757 169.031 94.2939 171.913 92.4503 171.888Z" fill="#E4E4E4" />
            <path d="M141.391 179.292H56.1205C55.7451 179.292 55.3851 179.143 55.1196 178.877C54.8542 178.612 54.7051 178.252 54.7051 177.877C54.7051 177.501 54.8542 177.141 55.1196 176.876C55.3851 176.61 55.7451 176.461 56.1205 176.461H141.391C143.216 176.436 143.234 179.318 141.391 179.292Z" fill="#E4E4E4" />
          </svg>
          ) : (
            <div className="tw-flex tw-justify-center">
              <span className="tw-cursor-pointer tw-underline tw-text-primary tw-font-semibold">Click</span> 
              <span className="tw-ml-2">to choose your folder</span>
            </div>
          )
        }
      </div>
      {errorMessage && <Typography className="tw-text-center tw-met-2" color="error">{errorMessage}</Typography>}
    </div>
  );
};

export default FolderSelector;