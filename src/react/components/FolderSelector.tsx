import { Typography } from "@mui/material";
import { OpenDialogOptions, OpenDialogReturnValue } from "electron";
import { useState } from "react";

import { errors } from "../constants";
import "../components.css"

interface FolderSelectorParams {
  onFolderSelect: (folder: string) => void;
  displayType: 'image' | 'text';
}

/**
 * Component to select a folder and will use onFolderSelect param to provide
 * selected folder to parent
 * @param onFolderSelect callback to provide selected folder
 */
const FolderSelector = ({ onFolderSelect, displayType }: FolderSelectorParams) => {
  const [errorMessage, setErrorMessage] = useState("");
  const [isHovered, setIsHovered] = useState(false);

  const handleMouseEnter = () => {
    setIsHovered(true);
  };

  const handleMouseLeave = () => {
    setIsHovered(false);
  };

  /**
   * Called upon selecting a folder. Will verify the folder exists and is writable
   * @param folderPath the path of the folder to verify
   */
  const verifyFolder = (folderPath: string) => {
    window.bashUtils.doesDirectoryExist(folderPath)
      .then((exists) => {
        if (!exists) {
          setErrorMessage(errors.FOLDER_DOES_NOT_EXISTS);
        } else {

          window.bashUtils.isDirectoryWritable(folderPath)
            .then((writable) => {
              if (!writable) {
                setErrorMessage(errors.FOLDER_IS_NOT_WRITABLE);
              } else {
                onFolderSelect(folderPath);
              }
            });
        }
      });
  };

  /**
   * Will open a dialog to allow the user to select a folder
   */
  const chooseFolder = () => {
    const options: OpenDialogOptions = {
      properties: ['openDirectory']
    };

    setErrorMessage("");

    window.electronAPI.invokeShowOpenDialog(options)
      .then((value: OpenDialogReturnValue) => {
        if (value !== undefined && value.filePaths.length > 0) {
          verifyFolder(value.filePaths[0]);
        }
      })
  };

  return (
    <div className="tw-flex tw-flex-col tw-gap-2">
      <div onClick={chooseFolder}  className="tw-text-center tw-cursor-pointer" onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>
        { displayType === 'image' ? (
          <svg width="240" height="240" viewBox="0 0 240 240" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle className="" cx="120" cy="120" r="120" fill={isHovered ? '#00c8ff' : '#149FC4'} fillOpacity="0.6"/>
            <path d="M128.041 30.108L84.8962 39.8146C83.7403 40.0761 82.7353 40.7854 82.1016 41.7869C81.4679 42.7885 81.2574 44.0005 81.5162 45.157L93.3469 97.7426L144.039 86.3379C144.456 86.2456 144.837 86.0352 145.137 85.732L133.383 33.4881C133.122 32.3321 132.412 31.327 131.411 30.6934C130.409 30.0597 129.197 29.8492 128.041 30.108Z" fill="#E6E6E6"/>
            <path d="M112.372 37.3491L88.7279 42.6685C87.6753 42.9064 86.76 43.5521 86.1828 44.464C85.6055 45.3758 85.4135 46.4794 85.6489 47.5326L96.772 96.973L141.794 86.844L133.694 50.8387C132.65 46.2253 129.819 42.2142 125.822 39.6853C121.825 37.1564 116.988 36.3162 112.372 37.3491Z" fill="white"/>
            <path d="M133.137 84.1781L103.455 90.8559C103.328 90.8842 103.208 90.9374 103.101 91.0124C102.994 91.0873 102.904 91.1826 102.834 91.2927C102.764 91.4028 102.717 91.5256 102.694 91.6541C102.672 91.7825 102.675 91.9141 102.704 92.0413C102.732 92.1685 102.786 92.2888 102.861 92.3954C102.936 92.5019 103.032 92.5926 103.142 92.6622C103.252 92.7318 103.375 92.7789 103.504 92.801C103.632 92.823 103.764 92.8195 103.891 92.7907L133.572 86.1129C133.7 86.0846 133.82 86.0315 133.927 85.9566C134.034 85.8816 134.125 85.7864 134.195 85.6762C134.265 85.5661 134.312 85.4432 134.334 85.3147C134.357 85.1862 134.354 85.0545 134.325 84.9273C134.296 84.8 134.243 84.6796 134.168 84.5731C134.092 84.4665 133.997 84.3758 133.886 84.3062C133.776 84.2366 133.653 84.1895 133.525 84.1675C133.396 84.1455 133.264 84.1491 133.137 84.1781Z" fill="#E4E4E4"/>
            <path d="M132.277 80.3514L102.595 87.0291C102.338 87.0869 102.115 87.2444 101.974 87.4668C101.833 87.6893 101.787 87.9586 101.845 88.2154C101.902 88.4722 102.06 88.6956 102.282 88.8363C102.505 88.9771 102.774 89.0237 103.031 88.9659L132.712 82.2881C132.84 82.2595 132.96 82.2062 133.066 82.1311C133.173 82.056 133.264 81.9606 133.333 81.8504C133.403 81.7403 133.45 81.6175 133.473 81.489C133.495 81.3606 133.492 81.229 133.463 81.1019C133.434 80.9747 133.381 80.8544 133.306 80.7479C133.231 80.6413 133.135 80.5506 133.025 80.4809C132.915 80.4112 132.792 80.3639 132.664 80.3417C132.535 80.3195 132.404 80.3227 132.277 80.3514Z" fill="#E4E4E4"/>
            <path d="M114.601 80.3109L101.735 83.2056C101.478 83.2633 101.255 83.4206 101.115 83.6429C100.974 83.8651 100.927 84.1341 100.985 84.3907C101.043 84.6472 101.2 84.8704 101.422 85.011C101.645 85.1516 101.914 85.1982 102.17 85.1404L115.037 82.2457C115.164 82.2174 115.285 82.1643 115.391 82.0894C115.498 82.0144 115.589 81.9192 115.659 81.809C115.729 81.6989 115.776 81.576 115.799 81.4475C115.821 81.319 115.818 81.1873 115.789 81.0601C115.76 80.9328 115.707 80.8124 115.632 80.7059C115.557 80.5993 115.461 80.5086 115.351 80.439C115.24 80.3694 115.117 80.3223 114.989 80.3003C114.86 80.2783 114.729 80.2819 114.601 80.3109Z" fill="#E4E4E4"/>
            <path d="M129.613 68.5169L99.931 75.1946C99.8038 75.2233 99.6835 75.2766 99.577 75.3517C99.4704 75.4268 99.3797 75.5222 99.31 75.6323C99.1693 75.8548 99.1227 76.1241 99.1805 76.3809C99.2382 76.6378 99.3957 76.8611 99.6182 77.0019C99.8406 77.1426 100.11 77.1892 100.367 77.1314L130.048 70.4537C130.176 70.4251 130.296 70.3717 130.402 70.2966C130.509 70.2215 130.6 70.1261 130.669 70.016C130.739 69.9058 130.786 69.783 130.809 69.6546C130.831 69.5261 130.828 69.3946 130.799 69.2674C130.77 69.1402 130.717 69.0199 130.642 68.9134C130.567 68.8069 130.471 68.7162 130.361 68.6465C130.251 68.5768 130.128 68.5295 130 68.5072C129.871 68.485 129.74 68.4883 129.613 68.5169Z" fill="#E4E4E4"/>
            <path d="M128.748 64.6919L99.0668 71.3696C98.9396 71.398 98.8192 71.4512 98.7125 71.5262C98.6058 71.6011 98.515 71.6964 98.4452 71.8065C98.3753 71.9166 98.3279 72.0394 98.3056 72.1679C98.2833 72.2963 98.2866 72.4279 98.3152 72.5551C98.3438 72.6823 98.3972 72.8026 98.4724 72.9091C98.5476 73.0157 98.643 73.1063 98.7533 73.1759C98.8635 73.2455 98.9864 73.2927 99.1149 73.3148C99.2434 73.3368 99.375 73.3333 99.5021 73.3044L129.184 66.6267C129.311 66.5982 129.431 66.5449 129.538 66.47C129.644 66.395 129.735 66.2997 129.805 66.1896C129.874 66.0796 129.922 65.9568 129.944 65.8284C129.966 65.7001 129.963 65.5685 129.934 65.4414C129.906 65.3143 129.852 65.1941 129.777 65.0876C129.702 64.9811 129.607 64.8905 129.497 64.8209C129.387 64.7513 129.264 64.704 129.135 64.6819C129.007 64.6598 128.876 64.6631 128.748 64.6919Z" fill="#E4E4E4"/>
            <path d="M111.075 64.6492L98.2083 67.5439C98.0811 67.5725 97.9609 67.6259 97.8543 67.701C97.7478 67.7761 97.6571 67.8715 97.5874 67.9816C97.5177 68.0918 97.4704 68.2146 97.4481 68.343C97.4259 68.4714 97.4292 68.603 97.4578 68.7302C97.4864 68.8573 97.5398 68.9776 97.6149 69.0842C97.69 69.1907 97.7853 69.2814 97.8955 69.3511C98.0057 69.4208 98.1285 69.4681 98.2569 69.4904C98.3853 69.5126 98.5169 69.5093 98.6441 69.4807L111.511 66.586C111.638 66.5574 111.758 66.504 111.865 66.4289C111.971 66.3538 112.062 66.2585 112.132 66.1483C112.201 66.0381 112.249 65.9153 112.271 65.7869C112.293 65.6585 112.29 65.5269 112.261 65.3997C112.233 65.2726 112.179 65.1523 112.104 65.0457C112.029 64.9392 111.934 64.8485 111.823 64.7788C111.713 64.7091 111.59 64.6618 111.462 64.6395C111.334 64.6173 111.202 64.6206 111.075 64.6492Z" fill="#E4E4E4"/>
            <path d="M126.089 52.8553L96.4075 59.533C96.1507 59.5908 95.9274 59.7483 95.7866 59.9707C95.6459 60.1932 95.5992 60.4625 95.657 60.7193C95.7148 60.9761 95.8723 61.1995 96.0947 61.3402C96.3172 61.481 96.5865 61.5276 96.8433 61.4698L126.525 54.792C126.652 54.7634 126.772 54.7101 126.879 54.635C126.986 54.5599 127.076 54.4645 127.146 54.3544C127.216 54.2442 127.263 54.1214 127.285 53.993C127.307 53.8645 127.304 53.733 127.275 53.6058C127.247 53.4786 127.193 53.3583 127.118 53.2518C127.043 53.1452 126.948 53.0545 126.838 52.9848C126.728 52.9151 126.605 52.8678 126.476 52.8456C126.348 52.8234 126.216 52.8267 126.089 52.8553Z" fill="#E6E6E6"/>
            <path d="M125.23 49.0301L95.5482 55.7078C95.421 55.7364 95.3007 55.7898 95.1942 55.8649C95.0876 55.94 94.9969 56.0354 94.9272 56.1455C94.7865 56.368 94.7399 56.6373 94.7976 56.8941C94.8554 57.1509 95.0129 57.3743 95.2353 57.515C95.4578 57.6558 95.7271 57.7024 95.9839 57.6446L125.666 50.9669C125.793 50.9383 125.913 50.8849 126.02 50.8098C126.126 50.7347 126.217 50.6393 126.287 50.5292C126.356 50.419 126.404 50.2962 126.426 50.1678C126.448 50.0393 126.445 49.9078 126.416 49.7806C126.387 49.6534 126.334 49.5331 126.259 49.4266C126.184 49.32 126.089 49.2293 125.978 49.1596C125.868 49.0899 125.745 49.0426 125.617 49.0204C125.489 48.9982 125.357 49.0015 125.23 49.0301Z" fill="#E6E6E6"/>
            <path d="M107.551 48.9861L94.6849 51.8808C94.428 51.9386 94.2047 52.096 94.0639 52.3185C93.9232 52.541 93.8766 52.8103 93.9344 53.0671C93.9922 53.3239 94.1496 53.5473 94.3721 53.688C94.5945 53.8288 94.8638 53.8754 95.1206 53.8176L107.987 50.9229C108.114 50.8943 108.235 50.8409 108.341 50.7658C108.448 50.6907 108.538 50.5954 108.608 50.4852C108.678 50.3751 108.725 50.2522 108.747 50.1238C108.77 49.9954 108.766 49.8638 108.738 49.7366C108.709 49.6095 108.656 49.4892 108.581 49.3826C108.505 49.2761 108.41 49.1854 108.3 49.1157C108.19 49.046 108.067 48.9987 107.939 48.9765C107.81 48.9542 107.679 48.9575 107.551 48.9861Z" fill="#E6E6E6"/>
            <path d="M41.9749 91.1201C41.6936 91.1204 41.424 91.2323 41.2251 91.4312C41.0262 91.63 40.9144 91.8997 40.9141 92.1809V201.87C40.9144 202.152 41.0262 202.421 41.2251 202.62C41.424 202.819 41.6936 202.931 41.9749 202.931H179.503C179.785 202.931 180.054 202.819 180.253 202.62C180.452 202.421 180.564 202.152 180.564 201.87V109.788C180.564 109.507 180.452 109.237 180.253 109.039C180.054 108.84 179.785 108.728 179.503 108.727H100.571C99.7698 108.728 98.9971 108.43 98.4045 107.89L80.6593 91.7668C80.2016 91.3502 79.6047 91.1196 78.9858 91.1201H41.9749Z" fill="#3F3D56"/>
            <path d="M206.1 62.4321L132.461 30.7735C130.486 29.9273 128.257 29.8989 126.261 30.6945C124.266 31.49 122.668 33.0445 121.817 35.0171L83.2305 124.77L169.752 161.967C170.462 162.275 171.245 162.372 172.008 162.246L210.343 73.076C211.189 71.1015 211.218 68.8721 210.422 66.8766C209.627 64.8812 208.072 63.2828 206.1 62.4321Z" fill="#E6E6E6"/>
            <path d="M175.396 56.3835L135.04 39.0338C133.242 38.263 131.212 38.2366 129.395 38.9606C127.578 39.6846 126.122 41.0997 125.347 42.8956L89.0684 127.281L165.912 160.317L192.332 98.863C195.709 90.9829 195.823 82.0851 192.648 74.1214C189.473 66.1578 183.268 59.7787 175.396 56.3835Z" fill="white"/>
            <path d="M156.048 147.194L105.387 125.414C105.17 125.32 104.937 125.27 104.7 125.267C104.464 125.263 104.23 125.307 104.01 125.394C103.79 125.481 103.59 125.611 103.421 125.776C103.252 125.94 103.116 126.137 103.023 126.354C102.93 126.571 102.88 126.804 102.877 127.041C102.874 127.277 102.918 127.511 103.005 127.731C103.093 127.95 103.223 128.15 103.388 128.319C103.553 128.488 103.75 128.623 103.967 128.716L154.628 150.496C154.845 150.59 155.078 150.64 155.314 150.643C155.55 150.647 155.785 150.603 156.005 150.516C156.224 150.429 156.424 150.299 156.594 150.134C156.763 149.97 156.898 149.773 156.992 149.556C157.085 149.339 157.134 149.106 157.138 148.869C157.141 148.633 157.097 148.399 157.009 148.179C156.922 147.96 156.792 147.76 156.627 147.591C156.462 147.422 156.265 147.287 156.048 147.194Z" fill="#E4E4E4"/>
            <path d="M158.853 140.664L108.193 118.884C107.754 118.696 107.259 118.69 106.816 118.866C106.373 119.043 106.018 119.389 105.83 119.827C105.641 120.265 105.635 120.76 105.811 121.203C105.988 121.647 106.333 122.001 106.771 122.19L157.432 143.97C157.649 144.063 157.883 144.113 158.119 144.116C158.355 144.119 158.59 144.076 158.809 143.988C159.029 143.901 159.229 143.771 159.398 143.606C159.567 143.441 159.702 143.245 159.796 143.028C159.889 142.811 159.939 142.577 159.942 142.341C159.945 142.105 159.902 141.87 159.814 141.651C159.727 141.431 159.597 141.231 159.432 141.062C159.267 140.893 159.07 140.757 158.853 140.664Z" fill="#E4E4E4"/>
            <path d="M132.959 121.798L110.999 112.357C110.782 112.263 110.549 112.213 110.313 112.21C110.077 112.207 109.842 112.25 109.623 112.337C109.403 112.425 109.203 112.555 109.034 112.719C108.865 112.884 108.73 113.08 108.636 113.297C108.543 113.514 108.493 113.748 108.49 113.984C108.487 114.22 108.531 114.454 108.618 114.674C108.706 114.893 108.836 115.093 109.001 115.262C109.166 115.431 109.362 115.566 109.579 115.659L131.54 125.1C131.757 125.194 131.99 125.244 132.226 125.247C132.462 125.25 132.697 125.207 132.916 125.12C133.135 125.032 133.335 124.902 133.505 124.738C133.674 124.573 133.809 124.377 133.902 124.16C133.995 123.943 134.045 123.709 134.048 123.473C134.051 123.237 134.008 123.003 133.92 122.783C133.833 122.564 133.703 122.364 133.538 122.195C133.373 122.026 133.176 121.891 132.959 121.798Z" fill="#E4E4E4"/>
            <path d="M167.54 120.461L116.879 98.6816C116.441 98.4938 115.946 98.4876 115.503 98.6644C115.06 98.8413 114.706 99.1866 114.517 99.6247C114.329 100.063 114.322 100.558 114.499 101.001C114.675 101.444 115.02 101.799 115.458 101.987L166.119 123.767C166.336 123.861 166.569 123.911 166.806 123.914C167.042 123.918 167.277 123.874 167.497 123.787C167.716 123.7 167.917 123.57 168.086 123.405C168.256 123.24 168.391 123.043 168.484 122.826C168.578 122.609 168.627 122.375 168.63 122.139C168.634 121.902 168.59 121.667 168.502 121.448C168.415 121.228 168.284 121.028 168.119 120.859C167.954 120.69 167.757 120.555 167.54 120.461Z" fill="#E4E4E4"/>
            <path d="M170.342 113.935L119.682 92.1551C119.465 92.0614 119.232 92.0114 118.995 92.008C118.759 92.0046 118.524 92.0477 118.305 92.1351C118.085 92.2224 117.885 92.3521 117.716 92.5169C117.547 92.6816 117.411 92.8782 117.318 93.0952C117.225 93.3123 117.175 93.5456 117.172 93.7819C117.169 94.0181 117.213 94.2527 117.3 94.4721C117.388 94.6915 117.518 94.8914 117.683 95.0605C117.848 95.2296 118.045 95.3645 118.262 95.4574L168.923 117.237C169.14 117.331 169.373 117.381 169.609 117.384C169.845 117.388 170.08 117.345 170.3 117.257C170.519 117.17 170.719 117.04 170.889 116.875C171.058 116.711 171.193 116.514 171.286 116.297C171.38 116.08 171.429 115.847 171.432 115.611C171.435 115.374 171.392 115.14 171.304 114.92C171.217 114.701 171.087 114.501 170.921 114.332C170.756 114.163 170.56 114.028 170.342 113.935Z" fill="#E4E4E4"/>
            <path d="M144.448 95.0657L122.488 85.6245C122.049 85.4363 121.554 85.4298 121.111 85.6066C120.668 85.7833 120.313 86.1288 120.125 86.5671C119.936 87.0053 119.93 87.5004 120.106 87.9436C120.283 88.3868 120.628 88.7416 121.066 88.9302L143.027 98.3714C143.244 98.4649 143.477 98.5146 143.714 98.5178C143.95 98.5211 144.185 98.4777 144.404 98.3902C144.624 98.3027 144.824 98.1729 144.993 98.008C145.163 97.8432 145.298 97.6466 145.391 97.4295C145.484 97.2124 145.534 96.979 145.537 96.7427C145.54 96.5064 145.497 96.2718 145.409 96.0523C145.322 95.8327 145.192 95.6326 145.027 95.4634C144.862 95.2941 144.665 95.159 144.448 95.0657Z" fill="#E4E4E4"/>
            <path d="M179.028 93.7303L128.367 71.9504C127.929 71.7628 127.434 71.7567 126.991 71.9336C126.548 72.1104 126.194 72.4558 126.006 72.8937C125.817 73.3317 125.811 73.8265 125.987 74.2694C126.163 74.7123 126.508 75.0672 126.946 75.2561L177.606 97.036C177.823 97.1295 178.057 97.1792 178.293 97.1824C178.529 97.1856 178.764 97.1423 178.984 97.0548C179.203 96.9673 179.403 96.8374 179.573 96.6726C179.742 96.5077 179.877 96.3112 179.97 96.094C180.064 95.8769 180.113 95.6436 180.117 95.4072C180.12 95.1709 180.076 94.9363 179.989 94.7168C179.901 94.4973 179.771 94.2972 179.606 94.128C179.441 93.9587 179.245 93.8236 179.028 93.7303Z" fill="#149FC4"/>
            <path d="M181.835 87.2013L131.174 65.4214C130.736 65.2335 130.241 65.2273 129.798 65.4042C129.355 65.581 129.001 65.9264 128.812 66.3644C128.624 66.8025 128.617 67.2974 128.794 67.7404C128.97 68.1834 129.315 68.5383 129.753 68.7271L180.413 90.507C180.631 90.6011 180.864 90.6514 181.101 90.6551C181.338 90.6588 181.573 90.6157 181.793 90.5284C182.013 90.4411 182.213 90.3112 182.383 90.1462C182.553 89.9811 182.688 89.7843 182.782 89.5668C182.875 89.3493 182.925 89.1156 182.928 88.8789C182.931 88.6422 182.887 88.4072 182.799 88.1875C182.711 87.9677 182.581 87.7675 182.415 87.5982C182.25 87.429 182.052 87.2941 181.835 87.2013Z" fill="#149FC4"/>
            <path d="M155.942 68.3323L133.982 58.8911C133.543 58.7029 133.048 58.6964 132.605 58.8732C132.162 59.0499 131.807 59.3954 131.619 59.8337C131.431 60.2719 131.424 60.767 131.6 61.2102C131.777 61.6534 132.122 62.0082 132.561 62.1968L154.521 71.638C154.738 71.7315 154.972 71.7812 155.208 71.7844C155.444 71.7876 155.679 71.7443 155.898 71.6568C156.118 71.5693 156.318 71.4395 156.487 71.2746C156.657 71.1098 156.792 70.9132 156.885 70.6961C156.979 70.4789 157.028 70.2456 157.031 70.0092C157.035 69.7729 156.991 69.5383 156.903 69.3188C156.816 69.0993 156.686 68.8992 156.521 68.73C156.356 68.5607 156.159 68.4256 155.942 68.3323Z" fill="#149FC4"/>
            <path d="M101.267 95.0299L58.1228 104.736C56.9669 104.998 55.9618 105.707 55.3282 106.709C54.6945 107.71 54.484 108.922 54.7428 110.079L66.5734 162.664L117.266 151.26C117.682 151.167 118.063 150.957 118.363 150.654L106.61 98.4099C106.348 97.254 105.639 96.2489 104.637 95.6153C103.636 94.9816 102.424 94.7711 101.267 95.0299Z" fill="#E6E6E6"/>
            <path d="M85.5968 102.271L61.9525 107.59C60.8999 107.828 59.9846 108.474 59.4074 109.386C58.8302 110.298 58.6382 111.401 58.8735 112.454L69.9966 161.895L115.019 151.766L106.918 115.761C105.875 111.147 103.044 107.136 99.0467 104.607C95.0496 102.078 90.2126 101.238 85.5968 102.271Z" fill="white"/>
            <path d="M106.358 149.102L76.6762 155.78C76.5489 155.808 76.4285 155.861 76.3219 155.936C76.2152 156.011 76.1243 156.106 76.0545 156.217C75.9847 156.327 75.9373 156.449 75.915 156.578C75.8927 156.706 75.896 156.838 75.9246 156.965C75.9532 157.092 76.0066 157.213 76.0818 157.319C76.1569 157.426 76.2524 157.516 76.3626 157.586C76.4729 157.656 76.5958 157.703 76.7243 157.725C76.8528 157.747 76.9843 157.743 77.1115 157.715L106.793 151.037C106.92 151.008 107.041 150.955 107.148 150.88C107.255 150.805 107.345 150.71 107.415 150.6C107.485 150.49 107.533 150.367 107.555 150.239C107.577 150.11 107.574 149.978 107.546 149.851C107.517 149.724 107.463 149.603 107.388 149.497C107.313 149.39 107.217 149.3 107.107 149.23C106.997 149.16 106.874 149.113 106.745 149.091C106.617 149.069 106.485 149.073 106.358 149.102Z" fill="#E4E4E4"/>
            <path d="M105.497 145.275L75.8157 151.953C75.5589 152.011 75.3356 152.168 75.1948 152.391C75.0541 152.613 75.0074 152.882 75.0652 153.139C75.123 153.396 75.2805 153.619 75.5029 153.76C75.7254 153.901 75.9947 153.948 76.2515 153.89L105.933 147.212C106.19 147.154 106.413 146.997 106.554 146.774C106.695 146.552 106.741 146.283 106.684 146.026C106.626 145.769 106.468 145.546 106.246 145.405C106.024 145.264 105.754 145.217 105.497 145.275Z" fill="#E4E4E4"/>
            <path d="M87.828 145.235L74.9614 148.129C74.8344 148.158 74.7142 148.211 74.6078 148.286C74.5014 148.361 74.4108 148.457 74.3411 148.567C74.2715 148.677 74.2242 148.799 74.202 148.928C74.1798 149.056 74.1831 149.187 74.2117 149.315C74.2403 149.442 74.2936 149.562 74.3686 149.668C74.4436 149.775 74.5389 149.865 74.6489 149.935C74.759 150.004 74.8816 150.052 75.01 150.074C75.1383 150.096 75.2697 150.093 75.3967 150.064L88.2633 147.17C88.3906 147.141 88.5111 147.088 88.6179 147.013C88.7247 146.938 88.8156 146.843 88.8855 146.733C88.9554 146.623 89.0029 146.5 89.0252 146.371C89.0475 146.243 89.0443 146.111 89.0157 145.984C88.987 145.857 88.9336 145.736 88.8584 145.63C88.7831 145.523 88.6876 145.432 88.5773 145.363C88.4669 145.293 88.344 145.246 88.2154 145.224C88.0868 145.202 87.9552 145.206 87.828 145.235Z" fill="#E4E4E4"/>
            <path d="M102.839 133.439L73.1575 140.117C73.0304 140.146 72.9101 140.199 72.8035 140.274C72.697 140.349 72.6063 140.445 72.5366 140.555C72.3958 140.777 72.3492 141.046 72.407 141.303C72.4648 141.56 72.6223 141.783 72.8447 141.924C73.0672 142.065 73.3365 142.112 73.5933 142.054L103.275 135.376C103.532 135.318 103.755 135.161 103.896 134.938C104.037 134.716 104.083 134.447 104.025 134.19C103.968 133.933 103.81 133.71 103.588 133.569C103.365 133.428 103.096 133.381 102.839 133.439Z" fill="#E4E4E4"/>
            <path d="M101.975 129.614L72.2934 136.292C72.1661 136.32 72.0457 136.374 71.939 136.449C71.8324 136.523 71.7415 136.619 71.6717 136.729C71.6019 136.839 71.5545 136.962 71.5322 137.09C71.5099 137.219 71.5131 137.35 71.5418 137.477C71.5704 137.605 71.6238 137.725 71.699 137.831C71.7741 137.938 71.8696 138.029 71.9798 138.098C72.0901 138.168 72.213 138.215 72.3415 138.237C72.47 138.259 72.6015 138.256 72.7287 138.227L102.41 131.549C102.537 131.521 102.658 131.467 102.764 131.392C102.871 131.317 102.962 131.222 103.031 131.112C103.101 131.002 103.148 130.879 103.171 130.751C103.193 130.622 103.19 130.491 103.161 130.364C103.132 130.237 103.079 130.116 103.004 130.01C102.929 129.903 102.834 129.813 102.723 129.743C102.613 129.674 102.49 129.626 102.362 129.604C102.234 129.582 102.102 129.586 101.975 129.614Z" fill="#E4E4E4"/>
            <path d="M84.3053 129.573L71.4388 132.468C71.182 132.526 70.9586 132.683 70.8179 132.905C70.6771 133.128 70.6305 133.397 70.6883 133.654C70.7461 133.911 70.9035 134.134 71.126 134.275C71.3484 134.416 71.6177 134.462 71.8745 134.405L84.7411 131.51C84.9979 131.452 85.2213 131.295 85.362 131.072C85.5028 130.85 85.5494 130.58 85.4916 130.324C85.4338 130.067 85.2764 129.843 85.0539 129.703C84.8314 129.562 84.5622 129.515 84.3053 129.573Z" fill="#E4E4E4"/>
            <path d="M99.3158 117.778L69.6341 124.456C69.5069 124.484 69.3866 124.538 69.2801 124.613C69.1736 124.688 69.0829 124.783 69.0132 124.894C68.8724 125.116 68.8258 125.385 68.8836 125.642C68.9414 125.899 69.0988 126.122 69.3213 126.263C69.5438 126.404 69.813 126.45 70.0699 126.393L99.7515 119.715C99.8787 119.686 99.999 119.633 100.106 119.558C100.212 119.483 100.303 119.387 100.372 119.277C100.442 119.167 100.489 119.044 100.512 118.916C100.534 118.787 100.531 118.656 100.502 118.529C100.473 118.401 100.42 118.281 100.345 118.175C100.27 118.068 100.174 117.977 100.064 117.908C99.9542 117.838 99.8314 117.791 99.7029 117.768C99.5745 117.746 99.4429 117.75 99.3158 117.778Z" fill="#E6E6E6"/>
            <path d="M98.4505 113.952L68.7689 120.63C68.6417 120.658 68.5214 120.712 68.4149 120.787C68.3083 120.862 68.2176 120.957 68.1479 121.067C68.0072 121.29 67.9606 121.559 68.0184 121.816C68.0761 122.073 68.2336 122.296 68.456 122.437C68.6785 122.578 68.9478 122.624 69.2046 122.567L98.8863 115.889C99.1431 115.831 99.3665 115.674 99.5072 115.451C99.648 115.229 99.6946 114.959 99.6368 114.702C99.579 114.446 99.4216 114.222 99.1991 114.082C98.9766 113.941 98.7074 113.894 98.4505 113.952Z" fill="#E6E6E6"/>
            <path d="M80.776 113.91L67.9095 116.805C67.6527 116.862 67.4293 117.02 67.2886 117.242C67.1478 117.465 67.1012 117.734 67.159 117.991C67.2168 118.248 67.3742 118.471 67.5967 118.612C67.8192 118.753 68.0884 118.799 68.3453 118.741L81.2118 115.847C81.339 115.818 81.4592 115.765 81.5658 115.69C81.6723 115.615 81.763 115.519 81.8327 115.409C81.9024 115.299 81.9497 115.176 81.972 115.048C81.9942 114.919 81.9909 114.788 81.9623 114.66C81.9337 114.533 81.8803 114.413 81.8052 114.306C81.7301 114.2 81.6348 114.109 81.5246 114.04C81.4144 113.97 81.2916 113.923 81.1632 113.9C81.0348 113.878 80.9032 113.881 80.776 113.91Z" fill="#E6E6E6"/>
            <path d="M41.0609 119.933C40.9216 119.933 40.7836 119.96 40.6549 120.013C40.5262 120.067 40.4093 120.145 40.3108 120.243C40.2123 120.342 40.1341 120.459 40.0808 120.587C40.0275 120.716 40 120.854 40 120.993C40 121.033 40.0327 202.725 40.0327 202.725C40.0617 202.984 40.1853 203.224 40.3798 203.397C40.5743 203.571 40.826 203.667 41.0868 203.667H188.822C189.083 203.667 189.335 203.571 189.529 203.398C189.724 203.224 189.847 202.984 189.876 202.725L199.072 121.112C199.089 120.964 199.074 120.814 199.029 120.671C198.983 120.529 198.909 120.398 198.809 120.287C198.71 120.175 198.588 120.085 198.452 120.024C198.316 119.963 198.168 119.932 198.018 119.933L41.0609 119.933Z" fill="#3F3D56"/>
            <path d="M51.4874 124.453C49.9886 124.457 48.5516 125.051 47.4872 126.106C46.4227 127.161 45.8162 128.593 45.7988 130.092L45.9833 193.404C45.9767 194.155 46.119 194.9 46.402 195.596C46.6849 196.292 47.1029 196.925 47.6318 197.458C48.1607 197.992 48.7901 198.415 49.4835 198.704C50.177 198.993 50.9208 199.142 51.672 199.142H145.453C156.209 199.149 166.59 195.19 174.61 188.023C182.63 180.856 187.726 170.984 188.924 160.295L192.249 130.779C192.339 129.983 192.26 129.177 192.017 128.414C191.773 127.651 191.372 126.948 190.838 126.351C190.305 125.754 189.651 125.276 188.92 124.949C188.189 124.622 187.397 124.453 186.596 124.453H51.4874ZM195.202 124.453L195.185 124.086H195.202V124.453Z" fill="#149FC4"/>
            <path d="M92.4503 171.888H56.1205C55.7451 171.888 55.3851 171.739 55.1196 171.473C54.8542 171.208 54.7051 170.848 54.7051 170.472C54.7051 170.097 54.8542 169.737 55.1196 169.471C55.3851 169.206 55.7451 169.057 56.1205 169.057H92.4503C94.2757 169.031 94.2939 171.913 92.4503 171.888Z" fill="#E4E4E4"/>
            <path d="M141.391 179.291H56.1205C55.7451 179.291 55.3851 179.142 55.1196 178.876C54.8542 178.611 54.7051 178.251 54.7051 177.876C54.7051 177.5 54.8542 177.14 55.1196 176.875C55.3851 176.609 55.7451 176.46 56.1205 176.46H141.391C143.216 176.435 143.234 179.317 141.391 179.291Z" fill="#E4E4E4"/>
          </svg>
          ) : (
            <div className="tw-flex tw-justify-center">
              <span className="tw-cursor-pointer tw-underline tw-text-teal">Click</span> 
              <span className="tw-ml-2">to choose your folder</span>
            </div>
          )
        }
      </div>
      {errorMessage && <Typography className="tw-text-center tw-met-2" color="error">{errorMessage}</Typography>}
    </div>
  );
};

export default FolderSelector;